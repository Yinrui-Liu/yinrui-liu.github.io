<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <meta name="googlebot" content="noindex, nofollow">
    <title>Yinrui Liu</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öõÔ∏è</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Prevent FOUC by setting theme immediately -->
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const themes = ['auto', 'light', 'dark'];
            let theme = 'auto'; // default
            
            if (savedTheme && themes.includes(savedTheme)) {
                theme = savedTheme;
            }
            
            if (theme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
            } else if (theme === 'auto') {
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                if (prefersDark) {
                    document.documentElement.setAttribute('data-theme', 'dark');
                }
            }
        })();
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    <style>
        /* LaTeX-like figure layout system */
        .figures-row {
            display: grid;
            gap: 20px;
            margin: 20px 0;
            justify-items: center;
        }
        
        /* Utility classes for different figure counts */
        .figures-1 { grid-template-columns: 1fr; }
        .figures-2 { grid-template-columns: 1fr 1fr; }
        .figures-3 { grid-template-columns: 1fr 1fr 1fr; }
        .figures-4 { grid-template-columns: 1fr 1fr 1fr 1fr; }
        
        /* Figure styling */
        .figure {
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid #e0e0e0;
        }
        
        /* Dark theme figures */
        html[data-theme="dark"] .figure {
            border-color: #444;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        /* Left Navigator Styles */
        .left-navigator {
            position: fixed;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 300px; /* Adjust this value: 250px = wider, 300px = even wider */
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 0 15px 15px 0;
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.1);
            padding: 20px 15px;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .left-navigator:hover {
            width: 300px; /* Adjust this value: should be wider than default width */
            box-shadow: 2px 0 25px rgba(0, 0, 0, 0.15);
        }
        
        .left-navigator h4 {
            margin: 0 0 15px 0;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .left-navigator ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .left-navigator li {
            margin-bottom: 8px;
        }
        
        .left-navigator a {
            display: block;
            padding: 8px 12px;
            color: #666;
            text-decoration: none;
            font-size: 13px;
            border-radius: 8px;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }
        
        .left-navigator a:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            border-left-color: #3b82f6;
            transform: translateX(3px);
            text-decoration: none;
        }
        
        .left-navigator a.active {
            background: rgba(59, 130, 246, 0.15);
            color: #3b82f6;
            border-left-color: #3b82f6;
            font-weight: 500;
            text-decoration: none;
        }
        
        /* Dark theme for left navigator */
        html[data-theme="dark"] .left-navigator {
            background: rgba(30, 30, 30, 0.95);
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.3);
        }
        
        html[data-theme="dark"] .left-navigator h4 {
            color: #e5e5e5;
        }
        
        html[data-theme="dark"] .left-navigator a {
            color: #a0a0a0;
        }
        
        html[data-theme="dark"] .left-navigator a:hover {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }
        
        html[data-theme="dark"] .left-navigator a.active {
            background: rgba(59, 130, 246, 0.25);
            color: #60a5fa;
        }
        
        /* Main content links styling */
        .nav-link, .publication-list a {
            color: #3b82f6;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .nav-link:hover, .publication-list a:hover {
            color: #1d4ed8;
            text-decoration: underline;
        }
        
        /* Dark theme for main content links */
        html[data-theme="dark"] .nav-link, html[data-theme="dark"] .publication-list a {
            color: #60a5fa;
        }
        
        html[data-theme="dark"] .nav-link:hover, html[data-theme="dark"] .publication-list a:hover {
            color: #93c5fd;
        }
        
        /* Adjust main content to account for left navigator */
        .main-content {
            margin-left: 0;
            transition: margin-left 0.3s ease;
        }
        
        /* Mobile responsive - all layouts become single column */
        @media (max-width: 768px) {
            .figures-1, .figures-2, .figures-3, .figures-4 {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .figure {
                max-width: 250px;
            }
            
            /* Hide left navigator on mobile */
            .left-navigator {
                display: none;
            }
        }
        
        /* Tablet responsive */
        @media (max-width: 1024px) {
            .left-navigator {
                width: 160px;
            }
            
            .left-navigator:hover {
                width: 180px;
            }
        }
    </style>
</head>
<body>
    <nav class="navigation">
        <div class="container">
            <ul class="nav-list">
                <li><a href="about.html">About</a></li>
                <li><a href="research.html" class="active">Research</a></li>
                <li><a href="outreach.html">Outreach</a></li>
                <li class="theme-switcher">
                    <button id="theme-toggle" class="theme-button" title="Change theme">
                        <span class="theme-icon">üåì</span>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Left Navigator -->
    <nav class="left-navigator">
        <h4>Research Sections</h4>
        <ul>
            <li><a href="#fsi-research" class="nav-link">Transformer Model for Particle Propagation within the Nucleus</a></li>
            <li><a href="#generative-models" class="nav-link">Generative Models for Fast Simulation of LArTPC Events</a></li>
            <li><a href="#hadron-argon" class="nav-link">Hadron-Argon Cross-Section Measurements at ProtoDUNE (Thesis Analysis)</a></li>
            <li><a href="#fsi-modeling" class="nav-link">Final-State Interaction (FSI) Modeling in Neutrino Generators</a></li>
            <li><a href="#detector-production" class="nav-link">Detector Modules Production and Installation for DUNE</a></li>
            <li><a href="#tetraquark" class="nav-link">Observation of the First Doubly-Charged Tetraquark Particle</a></li>
            <li><a href="#publications" class="nav-link">Publications</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <div class="container">
            <section class="section">
                <div class="content">
                    <p>
                        <figure style="float: right; width: 365px; margin: 0 0 10px 15px;">
                            <img src="figures/ProtoDUNE.png" alt="ProtoDUNE" style="width: 100%; height: auto; border-radius: 2px;">
                            <figcaption style="font-size: 12px; text-align: center; margin-top: 5px; font-style: normal;">A photo inside DUNE's prototype detector, ProtoDUNE at CERN. The future DUNE far detector modules will be 20 times larger!</figcaption>
                        </figure>
                        I am an experimental particle physicsist, with a focus on the Deep Underground Neutrino Experiment (<a href="https://www.dunescience.org" class="nav-link">DUNE</a>) during my PhD.
                        My work ranges from data analysis, physics modeling, detector production, and developing AI/ML-based physics simulations.
                        Below highlights some of my research works during my PhD.
                    </p>
                    
                    <h3 id="fsi-research" style="margin-top: 20px;">Transformer Model for Particle Propagation within the Nucleus</h3>
                    <p>When a neutrino is detected through its interaction with nucleus, it creates hadronic particles which undergo rescattering within the nucleus, complicating final-state reconstruction. 
                        This effect, called "final-state interactions" (FSI), has been a focus of neutrino interaction modeling. However, advanced models are computationally expensive. 
                        Working with Kazu Terao and Patrick Tsang at SLAC, we developed a transformer model that is trained on the advanced simulations.
                        Analogous to words in language models, different types of particles are treated as tokens, with spatial coordinates and four-momenta as feature variables.
                        The animation below shows an example of particle propagation within the nucleus from the GiBUU simulator, and the right figure shows the class confusion matrix between the predicted and true particle types, with an overall accuracy of 97%. 
                        Our current efforts focus on upscaling the sample size and achieving a more balanced training set, and ultimately, we aim to use this brand new method for neutrino event generation.
                    </p>
                    
                    <div class="figures-row figures-2" style="display: flex; justify-content: center; gap: 5px; align-items: center;">
                        <div style="position: relative; display: inline-block;">
                            <img src="figures/GiBUU.gif" alt="GiBUU Animation" style="height: 250px; ">
                            <div style="position: absolute; top: 35px; left: 15px; background: rgba(255,255,255,0); padding: 10px; border-radius: 5px; font-size: 8px; color: black;">
                                <!--<div style="margin-bottom: 5px;"><span style="color: gray; background-color: gray; border: 0.1px solid gray; border-radius: 50%;">‚óè</span><span style="margin-left: 5px;">Argon nucleus</span></div> -->
                                <div style="margin-bottom: 5px;"><span style="color: gray;">‚óé</span><span style="margin-left: 5px;">Argon nucleus</span></div>
                                <div style="margin-bottom: 5px;"><span style="color: blue;">‚óè</span><span style="margin-left: 5px;">$p$</span></div>
                                <div style="margin-bottom: 5px;"><span style="color: cyan;">‚óè</span><span style="margin-left: 5px;">$n$</span></div>
                                <div style="margin-bottom: 5px;"><span style="color: orange;">‚óè</span><span style="margin-left: 5px;">$\pi^+$</span></div>
                                <div style="margin-bottom: 5px;"><span style="color: gold;">‚óè</span><span style="margin-left: 5px;">$\pi^0$</span></div>
                                <div style="margin-bottom: 5px;"><span style="color: darkorange;">‚óè</span><span style="margin-left: 5px;">$\pi^-$</span></div>
                                <div style="margin-bottom: 5px;"><span style="color: black;">‚óè</span><span style="margin-left: 5px;">Other</span></div>
                            </div>
                        </div>
                        <img src="figures/GiBUU_acc.pdf" alt="LArTPC Figure 2" class="figure" style="height: 250px; object-fit: contain;">
                    </div>
                    
                    <h3 id="generative-models">Generative Models for Fast Simulation of LArTPC Events</h3>
                    <p>As experiments grow more sophisticated and data volume increases, Monte-Carlo simulation gradually becomes a bottleneck.
                        Take DUNE for example, the time to simulate a neutrino event given current computing devices even takes longer than recording an event at near detector.
                        By statistically extracting complex physics from high-dimensional parameter spaces, ML-based simulation is promising to speed up the simulation process.
                        I'm working on developing generative models to simulate LArTPC events. By treating each event as a cloud of energy deposition points, we trained a continuous-normalizing-flow model on Geant4 simulated events.
                        The figures below show some training events and the generated events, left for shower-like and right for track-like events.
                        It shows that the generative model successfully replicated the visual features, while differences can still be seen. 
                        Further quantitative studies are ongoing to ensure the generated events exhibit the same physics as the input simulations.
                    </p>
                    
                    <div class="figures-row figures-2" style="display: flex; justify-content: center; gap: 5px; align-items: center;">
                        <img src="figures/Generated_e.png" alt="LArTPC Figure 1" class="figure" style="height: 210px; object-fit: contain;">
                        <img src="figures/Generated_p.png" alt="LArTPC Figure 2" class="figure" style="height: 210px; object-fit: contain;">
                    </div>

                    <h3 id="hadron-argon">Hadron-Argon Cross-Section Measurements at ProtoDUNE (PhD Thesis)</h3>
                    <p>In my thesis analysis, I led the flagship cross-section measurements at ProtoDUNE, 
                        which is the total inelastic cross section of pion and proton on argon targets in the sub-GeV energy regime. 
                        Such measurements are critical input for DUNE neutrino interaction models as they provide the first argon dataset for constraining the final-state interactions (FSI) in DUNE energy regime.
                        I conducted end-to-end data analysis, and developed a statistical framework for hadron-argon cross-section measurements [<a href="https://www.mdpi.com/2410-390X/8/1/15" class="nav-link">Instruments</a>, <a href="https://github.com/Yinrui-Liu/hadron-Ar_XS" class="nav-link">GitHub</a>].
                        The physics result is completing DUNE internal review, with a <a href="https://docs.dunescience.org/cgi-bin/private/ShowDocument?docid=30273" class="nav-link">publication</a> to be submitted to PRL. 
                        The figures below present the main results showing the measured cross sections along with model predictions (left for pion and right for proton).
                    </p>
                    
                    <div class="figures-row figures-2" style="display: flex; justify-content: center; gap: 10px; align-items: center;">
                        <img src="figures/XS_model_211.png" alt="LArTPC Figure 1" class="figure" style="height: 230px; object-fit: contain;">
                        <img src="figures/XS_model_2212.png" alt="LArTPC Figure 2" class="figure" style="height: 230px; object-fit: contain;">
                    </div>

                    <h3 id="fsi-modeling">Final-State Interaction (FSI) Modeling in Neutrino Generators</h3>
                    <p>To further study how to utilize ProtoDUNE data to inform DUNE neutrino interaction models, I work with Stephen Dolan and Laura Munteanu at CERN and conducted several studies on FSI models in neutrino generators,
                        including developing a reweighting tool facilitating FSI model transformation, which has been integrated into <a href="https://github.com/NuSystematics/nusystematics" class="nav-link">NuSystematics</a>.
                        As a capstone, we recently worked on a <a href="https://docs.dunescience.org/cgi-bin/private/ShowDocument?docid=34761" class="nav-link">theory paper</a> which studies the impact of FSI modeling on neutrino oscillation parameters. 
                        With DUNE as a case study, the figures below show how variations of using different FSI models can obscure genuine oscillation effects (particularly from the bottom ratio plots), 
                        with the left figure focusing on $\Delta m^2_{21}$ in the $\nu_\mu$ disappearance analysis and the right figure focusing on the $\theta_{12}$ in the $\nu_e$ appearance analysis.
                    </p>
                    
                    <div class="figures-row figures-2" style="display: flex; justify-content: center; gap: 20px; align-items: center;">
                        <img src="figures/FSI_numu_m23.png" alt="LArTPC Figure 1" class="figure" style="height: 300px; object-fit: contain;">
                        <img src="figures/FSI_nue_dCP90.png" alt="LArTPC Figure 2" class="figure" style="height: 300px; object-fit: contain;">
                    </div>

                    <h3 id="detector-production">Detector Modules Production and Installation for DUNE</h3>
                    <p>DUNE's design centers on the liquid argon time projection chamber (LArTPC) technology. 
                        The most common design, also adopted by DUNE's first far detector (FD1) design, is to use wire planes, also called anode plane assembly (APA).
                        This <a href="https://hep.yale.edu/yale-henp/lartpc" class="nav-link">page</a> provides a nice description of how LArTPC works with wire detection systems.
                        UChicago opens a APA factory to produce the detector modules for DUNE FD1, and I am involved in the preparation of the bare frame, before moving it to a robotic machine called "winder". 
                        The figures below show the APA on the red winder (from the light reflection you can see multiple wire layers with different lining directions) and a piece of video showing the winder in action to wind the wires.
                        In addition, I was also at CERN in 2022 for the installation of ProtoDUNE and in 2024 serving as a data shifter during summer times.
                    </p>
                    
                    <div class="figures-row figures-2" style="display: flex; justify-content: center; gap: 30px; align-items: center;">
                        <img src="figures/APA-winder.png" alt="APA Winder" class="figure" style="height: 270px; object-fit: contain;">
                        <video src="figures/APA-winding.mov" class="figure" style="height: 270px; object-fit: contain;" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>

                    <h3 id="tetraquark">Observation of the First Doubly-Charged Tetraquark Particle</h3>
                    <p>Normal hadronic matters consists of either two or three quarks, which are called mesons and baryons.
                        Only in this century, hadronic particles consists of four and five quarks, called tetraquarks and pentaquarks, are discovered, 
                        which are referred to as exotic hadrons. In my early PhD, I continued my undergraduate research on hadron spectroscopy using LHCb data. 
                        I made major contributions to a generic framework for partial wave analysis (PWA) based on TensorFlow (called <a href="https://github.com/jiangyi15/tf-pwa" class="nav-link">TF-PWA</a>),
                        and applied it to a pair of isospin-related $B$ meson decays. 
                        I led the analysis which resulted in the observation of the first doubly-charged tetraquark $T^a_{c\bar{s}0}(2900)^{++}$ and its neutral partner $T^a_{c\bar{s}0}(2900)^{0}$, with publications on <a href="https://journals.aps.org/prl/abstract/10.1103/PhysRevLett.131.041902" class="nav-link">PRL</a> and <a href="https://journals.aps.org/prd/abstract/10.1103/PhysRevD.108.012017" class="nav-link">PRD</a>.
                        The figures below show the excess of $T^a_{c\bar{s}0}(2900)^{++}$ in the mass spectrum and its imagination by CERN artists.
                    </p>
                    
                    <div class="figures-row figures-2" style="display: flex; justify-content: center; gap: 10px; align-items: center;">
                        <img src="figures/LHCb-excess.png" alt="LArTPC Figure 1" class="figure" style="height: 210px; object-fit: contain;">
                        <img src="figures/LHCb-art.png" alt="LArTPC Figure 2" class="figure" style="height: 210px; object-fit: contain;">
                    </div>
                    
                </div>
            </section>


            <section class="section">
                <h2 id="publications">Publications</h2>
                <div class="content">
                    <ul class="publication-list">
                        <li>
                            DUNE Collaboration, First Measurement of $\pi^+$‚ÄìAr and $p$‚ÄìAr Total Inelastic Cross Sections in the Sub-GeV Energy Regime with ProtoDUNE-SP Data. <a href="https://docs.dunescience.org/cgi-bin/ShowDocument?docid=30273" target="_blank">DUNE-doc-30273</a> (under DUNE Collaboration internal review)
                        </li>
                        <li>
                            Y. Liu, et al., The Sensitivity of Neutrino Energy Reconstruction to the Modeling of Final-State Interactions and Their Impact on Neutrino Oscillation Measurements. <a href="https://docs.dunescience.org/cgi-bin/private/ShowDocument?docid=34761" target="_blank">DUNE-doc-34761</a> (under DUNE Collaboration internal review)
                        </li>
                        <li>
                            DUNE Collaboration, First measurement of the total inelastic cross section of positively charged kaons on argon at energies between 5.0 and 7.5 GeV. <a href="https://doi.org/10.1103/PhysRevD.110.092011" target="_blank">Phys. Rev. D 110 (2024) 9, 092011</a> (Aug. 1, 2024)
                        </li>
                        <li>
                            Y. Liu, A modified slicing method with multi-dimensional unfolding to measure hadron-argon cross sections. <a href="https://doi.org/10.3390/instruments8010015" target="_blank">Instruments 8 (2024) 1, 15</a> (Dec. 14, 2023)
                        </li>
                        <li>
                            LHCb Collaboration, First Observation of a Doubly Charged Tetraquark and Its Neutral Partner. <a href="https://doi.org/10.1103/PhysRevLett.131.041902" target="_blank">Phys. Rev. Lett. 131 (2023) 4, 041902</a> (Dec. 5, 2022)
                        </li>
                        <li>
                            LHCb Collaboration, Amplitude analysis of $B^0 \to \bar{D}^0 D_s^+ K\pi^-$ and $B^+ \to D^- D^+_s \pi^+$ decays. <a href="https://doi.org/10.1103/PhysRevD.108.012017" target="_blank">Phys. Rev. D 108 (2023) 1, 012017</a> (Dec. 5, 2022)
                        </li>
                        <li>
                            M. Wang, et al., A novel method to best particle ordering and final state alignment in helicity formalism. <a href="https://doi.org/10.1088/1674-1137/abf139" target="_blank">Chin. Phys. C 45 (2021) 6, 063103</a> (Dec. 7, 2020)
                        </li>
                        <p style="font-size: 15px;">(The above works represent my major contributions. A complete list of publications is available on my <b>INSPIRE-HEP <a href="https://inspirehep.net/authors/1829959" target="_blank">author page</a></b>.)</p>
                    </ul>
                    
                    <h3>Conference Presentations</h3>
                    <ul class="publication-list">
                        <li>
                            Hadron-argon cross-section measurements at ProtoDUNE‚Äîstatus and prospects (<a href="https://summit.aps.org/events/APR-S10" target="_blank">oral</a>), Mar. 19, 2025 at <em>APS Joint March and April Meeting Global Physics Summit</em>, Anaheim, CA, USA
                        </li>
                        <li>
                            Pion-argon and proton-argon inclusive cross-section measurement using ProtoDUNE-SP 1 GeV beam data (<a href="https://indico.cern.ch/event/1291157/contributions/5901055/" target="_blank">poster</a>), July 19, 2024 at <em>ICHEP 2024: the 42th International Conference on High Energy Physics</em>, Prague, Czech Republic
                        </li>
                        <li>
                            A modified slicing method with multi-dimensional unfolding to measure hadron-argon cross-section on ProtoDUNE-SP (<a href="https://indico.cern.ch/event/1302529/contributions/5561238/" target="_blank">oral</a>), Oct. 4, 2023 at <em>NuXTract 2023 ‚Äì Towards a consensus in neutrino cross sections</em>, Geneva, Switzerland
                        </li>
                        <li>
                            Pion-argon inclusive cross-section measurement on ProtoDUNE-SP (<a href="https://indico.fnal.gov/event/53004/contributions/243620/" target="_blank">oral</a>), Aug. 5, 2022 at <em>NuFact 2022: The 23rd International Workshop on Neutrinos from Accelerators</em>, Salt Lake City, UT, USA
                        </li>
                    </ul>

                    <h3>Seminar talks</h3>
                    <ul class="publication-list">
                        <li>
                            Hadron-argon cross-section measurements at ProtoDUNE and their implications for DUNE (<a href="https://indico.slac.stanford.edu/event/10003/" target="_blank">link</a>), August 14, 2025 at <em>SLAC Fundamental Physics Directorate (FPD) Seminar</em>, Stanford, CA, USA
                        </li>
                        <li>
                            Why is neutrino physics important and hard to study‚Äîan introductory to the DUNE experiment and my thesis research (<a href="https://indico.ihep.ac.cn/event/20004/" target="_blank">link</a>), June 20, 2023 at the Institute of High Energy Physics (IHEP), Beijing, China
                        </li>
                    </ul>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Yinrui Liu. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Left Navigator functionality
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.left-navigator .nav-link');
            const sections = document.querySelectorAll('h3[id], h2[id]');
            
            // Function to update active navigation link
            function updateActiveNav() {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    if (window.pageYOffset >= (sectionTop - 200)) {
                        current = section.getAttribute('id');
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        link.classList.add('active');
                    }
                });
            }
            
            // Update active nav on scroll
            window.addEventListener('scroll', updateActiveNav);
            
            // Smooth scrolling for navigation links
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    
                    if (targetSection) {
                        const offsetTop = targetSection.offsetTop - 100; // Account for fixed header
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Initial call to set active nav
            updateActiveNav();
        });
    </script>
</body>
</html>
